<script>
  var wsServer = 'ws://127.0.0.1:9501';
  var websocket = new WebSocket(wsServer);
  websocket.onopen = function (evt) {
    console.log("Connected to WebSocket server.");

    websocket.send('{"cmd":"online", "params":{"id":1}}');

    setInterval(function(){
      websocket.send('{"cmd":"hb", "params":1');
    }, 5000);
  };

  websocket.onclose = function (evt) {
    console.log("Disconnected");
  };

  websocket.onmessage = function (evt) {
    console.log('Retrieved data from server: ' + evt.data);
  };

  websocket.onerror = function (evt, e) {
    console.log('Error occured: ' + evt.data);
  };
</script>
